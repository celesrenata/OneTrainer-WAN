# Remote debugging commands for WAN 2.2 video dataset

# 1. Run comprehensive video debugging
python debug_video_dataset_remote.py

# 2. Check video files exist
ls -la /workspace/input/training/cube/

# 3. Check video properties with ffprobe
ffprobe -v quiet -print_format json -show_format -show_streams /workspace/input/training/cube/*.mp4

# 4. Test video with OpenCV
python -c "import cv2; cap=cv2.VideoCapture('/workspace/input/training/cube/test_cube.mp4'); print('Opened:', cap.isOpened()); print('Frames:', int(cap.get(cv2.CAP_PROP_FRAME_COUNT))); cap.release()"

# 5. Check concepts configuration
cat training_concepts/concepts.json | jq .

# 6. Enable video validation debugging
python enable_video_validation_debug.py

# 7. Run training with debug logging
python -c "import logging; logging.basicConfig(level=logging.DEBUG)" && python train.py

# 8. Check for specific error patterns in logs
grep -i 'video\|error\|fail' training.log | tail -20

# 9. Create minimal test video
ffmpeg -y -f lavfi -i testsrc=duration=3:size=512x512:rate=30 -c:v libx264 -pix_fmt yuv420p /workspace/input/training/cube/minimal_test.mp4

# 10. Test with single video file
# Temporarily move all but one video file and test